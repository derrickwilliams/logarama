"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():!function(){var n=t.Logger,r=e();r.noConflict=function(){return t[key]=n,r},t.Logger=r}()}(void 0,function(){var t=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t),this._children=[],1===arguments.length&&"string"!=typeof e&&(n=e||{},e=null),this._tag=e||"",this._minLevel=n.minLevel||"debug",this._format=n.format||this._defaultFormat,this._output=n.output||this._defaultOutput,this._initMethods()}return _createClass(t,[{key:"create",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];1===arguments.length&&"string"!=typeof e&&(n=e||{},e=null),e=(this._tag.length?this._tag+"/":"")+(e||""),n.minLevel=n.minLevel||this._minLevel,n.format=n.format||this._format,n.output=n.output||this._output;var r=new t(e,n);return this._children.push(r),r}},{key:"minLevel",value:function(){return this._minLevel}},{key:"setMinLevel",value:function(t){this._minLevel=t,this._initMethods(),this._children.forEach(function(e){e.setMinLevel(t)})}},{key:"_defaultFormat",value:function(t){var e="";if(t instanceof Error)e=t.stack instanceof Array?t.stack.join("\n"):this._format(t.stack);else if(t instanceof Array)e=t.join("\n");else if(t instanceof Object)try{e=JSON.stringify(t,null,2)}catch(n){e="[Object with circular references]"}else e=t+"";return e}},{key:"_defaultOutput",value:function(t,e,n){console[t](e+"["+t.toUpperCase()+"]: "+n)}},{key:"_writeToLog",value:function(t,e){var n=this;[].concat(e).forEach(function(e){n._output(t,n._tag,e)})}},{key:"_constructLogMethod",value:function(t){var n=this;e[t]>=e[n._minLevel]?this[t]=function(){Array.prototype.slice.call(arguments).forEach(function(e){n._writeToLog(t,n._format(e))})}:n[t]=n._noop}},{key:"_initMethods",value:function(){var t=this;Object.keys(e).forEach(function(e){t._constructLogMethod(e)})}},{key:"_noop",value:function(){}}]),t}(),e=t.LEVELS={trace:1,debug:2,info:3,warn:4,error:5};return t});